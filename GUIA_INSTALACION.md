# Gu√≠a de Instalaci√≥n - M√≥dulo de Configuraci√≥n Web

## üéØ Resumen

Este m√≥dulo te permite gestionar desde un solo lugar:
- ‚úÖ T√≠tulo del sitio (pesta√±a del navegador)
- ‚úÖ Texto del footer ("¬© OSM 2025")
- ‚úÖ Icono del sitio (favicon)
- ‚úÖ Imagen de inicio de sesi√≥n
- ‚úÖ Color principal del tema
- ‚úÖ Guardar hasta 3 temas diferentes

**Acceso:** Solo administradores pueden usar este m√≥dulo.

---

## üìã Pasos de Instalaci√≥n

### 1. Ejecutar la Migraci√≥n de Base de Datos

Conecta a tu base de datos PostgreSQL y ejecuta:

```bash
psql -U postgres -d osm2 -f db/migration_adm_webmain.sql
```

O si prefieres usar pgAdmin:
1. Abre pgAdmin
2. Conecta a la base de datos `osm2`
3. Abre el archivo `db/migration_adm_webmain.sql`
4. Ejecuta el script

**Verificaci√≥n:**
```sql
-- Verifica que la tabla se cre√≥
SELECT * FROM adm_webmain;
```

Deber√≠as ver 1 registro con la configuraci√≥n por defecto.

---

## üé® Uso del M√≥dulo

### Acceder a la Configuraci√≥n

1. Inicia sesi√≥n como **administrador**
2. En el men√∫ lateral, ve a: **Administrador** ‚Üí **Configuraci√≥n Web**
3. Se abrir√° la p√°gina de configuraci√≥n

### Cambiar el T√≠tulo del Sitio

1. En el campo "T√≠tulo del Sitio", ingresa el nuevo t√≠tulo
2. Este aparecer√° en la pesta√±a del navegador de todas las p√°ginas
3. Clic en "Guardar Configuraci√≥n"

### Cambiar el Texto del Footer

1. En el campo "Texto del Footer", ingresa el nuevo texto
2. Ejemplo: "¬© OSM 2025 - Todos los derechos reservados"
3. Este texto aparecer√° en el pie de todas las p√°ginas
4. Clic en "Guardar Configuraci√≥n"

### Cambiar el Icono del Sitio

1. En "Icono del Sitio (Favicon)":
   - Clic en "Seleccionar archivo"
   - Elige una imagen (JPG, PNG, GIF, WEBP)
   - Clic en "Subir"
2. La ruta se llenar√° autom√°ticamente
3. Ver√°s una vista previa de la imagen
4. Clic en "Guardar Configuraci√≥n"

### Cambiar la Imagen de Inicio de Sesi√≥n

1. En "Imagen de Inicio de Sesi√≥n":
   - Clic en "Seleccionar archivo"
   - Elige una imagen (JPG, PNG, GIF, WEBP)
   - Clic en "Subir"
2. La ruta se llenar√° autom√°ticamente
3. Ver√°s una vista previa de la imagen
4. Clic en "Guardar Configuraci√≥n"

### Cambiar el Color del Tema

1. En "Color Principal":
   - Clic en el selector de color
   - Elige tu color preferido
   - O ingresa un c√≥digo hexadecimal (ej: #772e22)
2. El color afectar√°:
   - Sidebar (men√∫ lateral)
   - Botones
   - Enlaces
   - Elementos activos
3. Clic en "Guardar Configuraci√≥n"

### Guardar Temas Personalizados

1. Configura todos los valores como desees
2. Clic en "Guardar como Nuevo Tema"
3. Ingresa un nombre descriptivo (ej: "Tema Navidad", "Tema Verano")
4. El tema se guardar√° para uso futuro

**L√≠mite:** M√°ximo 3 temas guardados.

### Cambiar entre Temas

1. Mira la secci√≥n "Temas Guardados" en la parte inferior
2. Ver√°s tarjetas con cada tema guardado
3. Clic en "Aplicar" en el tema que desees activar
4. Los cambios se aplicar√°n inmediatamente en todas las p√°ginas

---

## üîç Verificaci√≥n de Cambios

Despu√©s de guardar la configuraci√≥n:

1. **T√≠tulo**: 
   - Abre cualquier p√°gina
   - Mira la pesta√±a del navegador
   - Debe mostrar el nuevo t√≠tulo

2. **Footer**:
   - Despl√°zate al final de cualquier p√°gina
   - Verifica el nuevo texto en el pie de p√°gina

3. **Icono**:
   - Mira la pesta√±a del navegador
   - Debe mostrar el nuevo icono

4. **Imagen de Login**:
   - Cierra sesi√≥n
   - Mira la imagen en el lado izquierdo de la p√°gina de login

5. **Color del Tema**:
   - Observa el men√∫ lateral
   - Observa los botones
   - Deben reflejar el nuevo color

---

## ‚ö†Ô∏è Notas Importantes

### Seguridad
- ‚úÖ Solo usuarios con rol "Administrador" pueden acceder
- ‚úÖ Los colaboradores NO pueden ver ni modificar estas configuraciones
- ‚úÖ Se valida la sesi√≥n en cada operaci√≥n

### Im√°genes
- **Tama√±o m√°ximo**: 5 MB por archivo
- **Formatos permitidos**: JPG, PNG, GIF, WEBP
- **Recomendaciones**:
  - Favicon: 512x512 p√≠xeles o similar
  - Login: 800x600 p√≠xeles o proporcional

### L√≠mites
- **Temas guardados**: M√°ximo 3
- Si necesitas guardar uno nuevo, elimina uno existente primero

### Colores
- Usa el formato hexadecimal: #RRGGBB
- Ejemplos v√°lidos: #772e22, #FF5733, #00A8FF
- El sistema genera autom√°ticamente los colores complementarios

---

## üêõ Soluci√≥n de Problemas

### No puedo acceder a la p√°gina de configuraci√≥n
**Problema**: Aparece error 403 o "Acceso denegado"
**Soluci√≥n**: 
- Verifica que tu usuario tenga rol "Administrador"
- Verifica que tu sesi√≥n est√© activa
- Intenta cerrar sesi√≥n y volver a iniciar

### Los cambios no se aplican
**Problema**: Guardo la configuraci√≥n pero no veo cambios
**Soluci√≥n**:
- Refresca la p√°gina (F5 o Ctrl+R)
- Limpia la cach√© del navegador
- Verifica que la base de datos tenga el registro actualizado

### Error al subir im√°genes
**Problema**: "Error al subir el archivo"
**Soluci√≥n**:
- Verifica que el archivo sea menor a 5 MB
- Verifica que el formato sea JPG, PNG, GIF o WEBP
- Verifica los permisos de la carpeta `assets/img/uploads`

### El color no se aplica correctamente
**Problema**: El color se guarda pero algunos elementos no cambian
**Soluci√≥n**:
- Usa el formato hexadecimal correcto (#772e22)
- Refresca completamente la p√°gina
- Verifica que no haya CSS personalizado que sobrescriba los colores

---

## üìû Soporte

Si encuentras alg√∫n problema o necesitas ayuda:

1. Revisa el archivo `WEB_CONFIG_README.md` (documentaci√≥n t√©cnica completa)
2. Revisa el archivo `BEFORE_AFTER_COMPARISON.md` (comparaci√≥n antes/despu√©s)
3. Consulta con el equipo de desarrollo

---

## ‚úÖ Lista de Verificaci√≥n Post-Instalaci√≥n

Despu√©s de instalar, verifica:

- [ ] La migraci√≥n de base de datos se ejecut√≥ sin errores
- [ ] Existe 1 registro en la tabla `adm_webmain`
- [ ] Puedes acceder a la p√°gina de configuraci√≥n como administrador
- [ ] Los colaboradores NO pueden acceder a la p√°gina de configuraci√≥n
- [ ] Puedes cambiar el t√≠tulo y se refleja en las p√°ginas
- [ ] Puedes cambiar el footer y se refleja en las p√°ginas
- [ ] Puedes subir im√°genes sin errores
- [ ] Puedes cambiar el color del tema y se aplica correctamente
- [ ] Puedes guardar un tema nuevo
- [ ] Puedes cambiar entre temas guardados

---

## üéâ ¬°Listo!

Tu sistema ahora tiene un m√≥dulo completo de gesti√≥n de configuraci√≥n web. 

**Recuerda:** Todos los cambios se aplicar√°n inmediatamente en todas las p√°ginas del sitio, sin necesidad de editar c√≥digo o reiniciar el servidor.
